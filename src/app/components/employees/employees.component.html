<div class="p-8 bg-gray-50 min-h-screen">
    <div class="flex justify-between items-center mb-8">
        <h1 class="text-4xl font-bold text-gray-800">Employee Management</h1>
        <button (click)="toggleAddForm()"
            class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors">
            {{ showAddForm ? 'Cancel' : 'Add Employee' }}
        </button>
    </div>

    <!-- Add Employee Form -->
    <div *ngIf="showAddForm" class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Add New Employee</h2>
        <form (ngSubmit)="onAddEmployee()" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input [(ngModel)]="newEmployee.name" name="name" placeholder="Full Name"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <input [(ngModel)]="newEmployee.email" name="email" type="email" placeholder="Email"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <input [(ngModel)]="newEmployee.phone" name="phone" placeholder="Phone Number"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <input [(ngModel)]="newEmployee.employeeId" name="employeeId" placeholder="Employee ID"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <select [(ngModel)]="newEmployee.role" name="role"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                <option value="admin">Admin</option>
                <option value="librarian">Librarian</option>
                <option value="staff">Staff</option>
            </select>
            <input [(ngModel)]="newEmployee.department" name="department" placeholder="Department"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <input type="number" [(ngModel)]="newEmployee.salary" name="salary" placeholder="Salary"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <input [(ngModel)]="newEmployee.password" name="password" type="password" placeholder="Password"
                class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
            <button type="submit"
                class="md:col-span-2 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-semibold transition-colors">
                Add Employee
            </button>
        </form>
    </div>

    <!-- Search and Filter -->
    <div class="bg-white rounded-lg shadow-md p-4 mb-6">
        <input [(ngModel)]="searchTerm" placeholder="Search by name or email..."
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Employees Table -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <table class="w-full">
            <thead class="bg-gray-200">
                <tr>
                    <th class="px-6 py-3 text-left font-semibold text-gray-700">Name</th>
                    <th class="px-6 py-3 text-left font-semibold text-gray-700">Email</th>
                    <th class="px-6 py-3 text-left font-semibold text-gray-700">Role</th>
                    <th class="px-6 py-3 text-left font-semibold text-gray-700">Department</th>
                    <th class="px-6 py-3 text-center font-semibold text-gray-700">Salary</th>
                    <th class="px-6 py-3 text-center font-semibold text-gray-700">Status</th>
                    <th class="px-6 py-3 text-center font-semibold text-gray-700">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let employee of getFilteredEmployees()" class="border-t hover:bg-gray-50">
                    <td class="px-6 py-4 text-gray-800 font-medium">{{ employee.name }}</td>
                    <td class="px-6 py-4 text-gray-800">{{ employee.email }}</td>
                    <td class="px-6 py-4 text-gray-800">
                        <span [class]="
                'px-3 py-1 rounded-full text-white text-sm font-semibold ' +
                (employee.role === 'admin'
                  ? 'bg-purple-500'
                  : employee.role === 'librarian'
                    ? 'bg-blue-500'
                    : 'bg-gray-500')
              ">
                            {{ employee.role | titlecase }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-gray-800">{{ employee.department }}</td>
                    <td class="px-6 py-4 text-center font-semibold">â‚¹{{ employee.salary }}</td>
                    <td class="px-6 py-4 text-center">
                        <span [class]="
                'px-3 py-1 rounded-full text-white font-semibold ' +
                (employee.status === 'active' ? 'bg-green-500' : 'bg-red-500')
              ">
                            {{ employee.status | titlecase }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-center space-x-2">
                        <button *ngIf="employee.status === 'active'" (click)="onDeactivateEmployee(employee.id)"
                            class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm font-semibold transition-colors">
                            Deactivate
                        </button>
                        <button *ngIf="employee.status !== 'active'" (click)="onActivateEmployee(employee.id)"
                            class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm font-semibold transition-colors">
                            Activate
                        </button>
                        <button (click)="onDeleteEmployee(employee.id)"
                            class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-semibold transition-colors">
                            Delete
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>